@startuml BackOfficeContainerDiagram
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Person(ventas, "Personal de Ventas y Marketing", "Gestiona las lineas y tarifas")
Person(atencioncliente, "Personal de Atención al Cliente", "Gestiona clientes, contratos y atiende consultas y reclamaciones")
Person(f, "Personal de Finanzas", "Genera y envía facturas")
Person(admin, "Personal de Administración", "Gestiona el personal y la configuracion del sistema")

System_Boundary(backOffice, "Back Office System") {
    Container(pv, "Portal de ventas", , "Gestiona la información de clientes y contratos")
    Container(pac, "Portal de atención al cliente", ,"Gestiona la información de clientes")
    Container(pf, "Portal de finanzas", , "Genera y envía facturas")
    Container(padmin, "Portal de administración", ,"Gestiona la configuración del sistema y empleados")
    Container(pusu, "Perfil de usuario", ,"Gestiona la información del usuario")
}

System_Ext(bd, "Base de Datos","Almacena información de contratos, líneas, clientes y facturacion", "MySQL")
System_Ext(api, "API", "Operaciones y obtiene información de líneas")


Rel(ventas, pv, "Usa" )
Rel(atencioncliente, pac, "Usa") 
Rel(f, pf, "Usa" )
Rel(admin, padmin, "Usa" )
Rel(ventas, pusu, "Usa")
Rel(atencioncliente, pusu, "Usa") 
Rel(f, pusu, "Usa")
Rel(admin, pusu, "Usa")

Rel(pv, api, "Recoge y manda información" ,"AJAX")
Rel(pac, api, "Recoge y manda información" ,"AJAX")
Rel(pf, api, "Recoge y manda información" ,"AJAX")
Rel(padmin, api, "Recoge y manda información" ,"AJAX")
Rel(pusu, api, "Recoge y manda información" ,"AJAX")

Rel(pv, bd, "Añade y recoge datos")
Rel(pac, bd, "Añade y recoge datos")
Rel(pf, bd, "Añade y recoge datos")
Rel(padmin, bd, "Añade y recoge datos")
Rel(pusu, bd, "Añade y recoge datos")

@enduml
